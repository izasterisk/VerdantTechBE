title Get All User Bank Accounts By User ID Sequence Diagram

participant Client
participant UserBankAccountsUI
participant UserBankAccountsController
participant UserBankAccountsService
participant UserBankAccountsRepository
participant Database

Client->UserBankAccountsUI: 1. Request bank accounts list (userId)
UserBankAccountsUI->UserBankAccountsController: 2. GET /api/UserBankAccounts/user/{userId}
activate UserBankAccountsController

UserBankAccountsController->UserBankAccountsService: 3. Call GetAllUserBankAccountsByUserIdAsync(userId)
activate UserBankAccountsService

UserBankAccountsService->UserBankAccountsRepository: 4. GetAllUserBankAccountsByUserIdAsync(userId)
activate UserBankAccountsRepository
UserBankAccountsRepository->Database: 5. Get all bank accounts by userId
Database-->UserBankAccountsRepository: 6. Return List<UserBankAccount>
UserBankAccountsRepository-->UserBankAccountsService: 7. Return List<UserBankAccount>
deactivate UserBankAccountsRepository

UserBankAccountsService->UserBankAccountsService: 8. Map entities to DTOs (AutoMapper)
UserBankAccountsService-->UserBankAccountsController: 9. Return List<UserBankAccountResponseDTO>
deactivate UserBankAccountsService

UserBankAccountsController->UserBankAccountsUI: 10. Return 200 OK (APIResponse with accounts list)
deactivate UserBankAccountsController
UserBankAccountsUI->Client: 11. Display bank accounts list
end

