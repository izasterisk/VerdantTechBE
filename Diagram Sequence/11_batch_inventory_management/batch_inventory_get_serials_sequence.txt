title Get Serials By Batch ID Sequence Diagram

participant Staff
participant InventoryUI
participant BatchInventoryController
participant BatchInventoryService
participant ProductSerialRepository
participant Database

Staff->InventoryUI: 1. Request serials by batch (batchId)
InventoryUI->BatchInventoryController: 2. GET /api/BatchInventory/{batchId}/serials
activate BatchInventoryController

BatchInventoryController->BatchInventoryService: 3. Call GetAllSerialsByBatchIdAsync(batchId)
activate BatchInventoryService

BatchInventoryService->ProductSerialRepository: 4. GetAllByBatchIdAsync(batchId)
activate ProductSerialRepository
ProductSerialRepository->Database: 5. Get product serials by batch ID
Database-->ProductSerialRepository: 6. Return product serials list
ProductSerialRepository-->BatchInventoryService: 7. Return productSerials
deactivate ProductSerialRepository
BatchInventoryService-->BatchInventoryController: 8. Return success (IEnumerable<ProductSerial>)
deactivate BatchInventoryService

BatchInventoryController->InventoryUI: 9. Return 200 OK (IEnumerable<ProductSerial>)
deactivate BatchInventoryController
InventoryUI->Staff: 10. Display product serials list
end

