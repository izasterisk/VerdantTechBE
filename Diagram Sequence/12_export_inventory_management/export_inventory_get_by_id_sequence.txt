title Get Export Inventory By ID Sequence Diagram

participant Staff
participant InventoryUI
participant ExportInventoryController
participant ExportInventoryService
participant ExportInventoryRepository
participant Database

Staff->InventoryUI: 1. Request export inventory details (id)
InventoryUI->ExportInventoryController: 2. GET /api/ExportInventory/{id}
activate ExportInventoryController

note over ExportInventoryController: Requires Authorization (Admin/Staff)

ExportInventoryController->ExportInventoryService: 3. Call GetExportInventoryByIdAsync(id)
activate ExportInventoryService

ExportInventoryService->ExportInventoryRepository: 4. GetExportInventoryByIdAsync(id)
activate ExportInventoryRepository
ExportInventoryRepository->Database: 5. Check if export inventory exists
Database-->ExportInventoryRepository: 6. Return export inventory data
ExportInventoryRepository-->ExportInventoryService: 7. Return exportInventory or null
deactivate ExportInventoryRepository

alt Export Inventory Not Found
    ExportInventoryService-->ExportInventoryController: 8.1 Throw KeyNotFoundException
    ExportInventoryController->InventoryUI: 9.1 Return 404 Not Found
    InventoryUI->Staff: 10.1 Show error message
    deactivate ExportInventoryService
    deactivate ExportInventoryController
else Export Inventory Found
    ExportInventoryService-->ExportInventoryController: 8.2 Return success (ExportInventoryResponseDTO)
    deactivate ExportInventoryService
    ExportInventoryController->InventoryUI: 9.2 Return 200 OK (ExportInventoryResponseDTO)
    deactivate ExportInventoryController
    InventoryUI->Staff: 10.2 Display export inventory details
end

